<!doctype html>
<html>
<head>
<meta charset="utf-8">
    <title>Immerse Oy</title>
<!--meta name="description" content="3D - A-Frame"-->
<meta name="google-site-verification" content="O2FYhfoyRfj0GylrXZ8sC5wBawQi7G5OQ97ZwsSDnOU" />
<!--meta name="google-site-verification" content="O2FYhfoyRfj0GylrXZ8sC5wBawQi7G5OQ97ZwsSDnOU" /-->
<!-- couple option script which are hidden right know-->
<script src="https://aframe.io/releases/0.7.0/aframe.min.js"></script>
<script src="https://cdn.rawgit.com/donmccurdy/aframe-extras/v3.13.1/dist/aframe-extras.min.js"></script>
<!--this script on under should work for custom markers--> 
<script src="ArJs.js"></script>
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="mobile-web-app-capable" content="yes">
</head>
<body style='margin : 0px; overflow: hidden;'>
  <a-scene embedded arjs="debugUIEnabled: false;" vr-mode-ui="enabled: false" 'sourceType: webcam; detectionMode: mono_and_matrix; matrixCodeType: 3x3;'>
      <!--//Assets files. -->
      <a-assets>
            <a-asset-item id="unicorn" src="Unicorn5.gltf"></a-asset-item>
            <a-asset-item id="rearity" src="RearityL.gltf"></a-asset-item>
			<video id="IHOS" preload="auto" src="IHOSsmallest6.mp4"
          autoplay muted loop="true" crossOrigin="anonymous">></video>
      </a-assets>

    <!-- //Marker usage-->
    <a-marker preset='custom' url='rearity.patt'>

        <!--//Back base plane, should this need some more graphic?-->
        <!--a-plane color="#f5f5f5" height="1.20" width="2.15" rotation="-90 0 0" position="0 0 0"></a-plane-->

        <!--//Animated logo-->
        <a-video src="#IHOS" rotation="-90 0 0" scale="1.4 1.4 1.4"></a-video>
        <a-entity gltf-model="#rearity" position="5 0 -1" scale="1 1 1" rotation="0 0 45">
            <a-animation attribute="scale" dur="10000" to="5 5 5" direction="alternate" repeat="indefinite"></a-animation>
        </a-entity>
        <a-entity gltf-model></a-entity>

    </a-marker>
    
     <a-marker preset='custom' url='fivr.patt'>

        <!--//Back base plane, should this need some more graphic?-->
        <!--a-plane color="#f5f5f5" height="1.20" width="2.15" rotation="-90 0 0" position="0 0 0"></a-plane-->

        <!--//Animated logo-->
        <a-entity gltf-model="#unicorn" animation-mixer rotation="0 0 0" scale="0.5 0.5 0.5" position="0 0 0">
                
        </a-entity>

    </a-marker>

      <a-entity camera>
    
        </a-entity>
</a-scene>

 <script>
 
window.onload = function(){ alert("Please, press screen if video not start automatically, if camera fail just reload");}

if (screen.height > screen.width){
    alert("Please use Landscape!");
}

     function playVideoOnClick (selector) {
  el = document.querySelector(selector);

  if (el) {
    addListener();
  } else {
    window.addEventListener('load', addListener);
  }

  function addListener () {
    if (el.paused) {
      window.addEventListener('click', handleFirstClick);
    }

    function handleFirstClick () {
      try {
        if (el.muted) {
          delete el.muted;
        }
        if (el.paused) {
          el.play();
        }
      } catch (e) {
      }
      removeHandleFirstClick();
    }

    function removeHandleFirstClick () {
      window.removeEventListener('click', handleFirstClick);
    }  
  }
}

playVideoOnClick('video');
 </script>

</body>
</html>
